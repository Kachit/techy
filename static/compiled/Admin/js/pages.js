define("AuthMixin",["Form"],function(e){return{initilizeAuth:function(){new e($("#signInForm"),{fields:{login:{validators:[{name:"NotEmpty",msg:I18n.get("auth.forms.email.notEmpty")}]},password:{validators:[{name:"NotEmpty",msg:I18n.get("auth.forms.password.notEmpty")}]}}})}}}),define("Page.SignIn",["Page","AuthMixin"],function(e,t){return OClass(e,t,{name:"SignIn",onLoad:function(){this.initilizeAuth()}})}),define("Page.NewPassword",["Page","Form"],function(e,t){return OClass(e,{name:"NewPassword",onLoad:function(){new t($("#newPasswordForm"),{fields:{password:{validators:[{name:"NotEmpty",msg:I18n.get("auth.forms.password.notEmpty")},{name:"Common",msg:I18n.get("auth.forms.password.tooShort"),fn:function(e){return e.length>=6}}]},password2:{validators:[{name:"NotEmpty",msg:I18n.get("auth.forms.password.confirmNotEmpty")},{name:"Common",msg:I18n.get("auth.forms.password.notEqual"),fn:function(e){return e===this.$form.find("[name=password]").val()}}]}},success:function(e){e.success&&setTimeout(function(){window.location.href="/"},2e3)}})}})}),define("Page.PasswordRecovery",["Page","Form"],function(e,t){return OClass(e,{name:"PasswordRecovery",onLoad:function(){new t($("#passwordRecoveryForm"),{fields:{login:{validators:[{name:"NotEmpty",msg:I18n.get("auth.forms.email.notEmpty")}]}}})}})}),define("Page.Admins",["Page","Form","Template","Globals"],function(e,t,n,r){var i=["<tr><td>{{user_id}}</td><td>{{login}}</td></tr>"].join("");return OClass(e,{name:"Admins",onLoad:function(){var e=$("#admins"),r=$("#formNewAdmin");new t(r,{fields:{login:{validators:[{name:"NotEmpty",msg:"Введите login"}]}},success:function(t){var r=t.admin;r&&e.prepend($(n.parse(i,r)))}})}})});